<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>完全版：いちばんやさしいCI/CD入門</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&family=Kosugi+Maru&display=swap');
        
        :root {
            --main-color: #4285F4;
            --sub1-color: #34A853;
            --sub2-color: #FBBC05;
            --accent-color: #EA4335;
            --back-color: #F8F9FA;
            --text-color: #202124;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'M PLUS Rounded 1c', 'Kosugi Maru', sans-serif;
            background: linear-gradient(135deg, var(--back-color) 0%, #E3F2FD 100%);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            background: linear-gradient(45deg, var(--main-color), var(--sub1-color));
            color: white;
            padding: 40px 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            position: relative; /* Stacking context for ::before and z-indexed children */
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
            z-index: 0; /* Ensure it's behind other content with higher z-index */
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .main-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1; /* Above header::before */
        }
        
        .subtitle {
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1; /* Above header::before */
        }
        
        .chapter-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
            position: relative; /* Added for z-index context */
            z-index: 2;       /* Added: Ensure tabs are above header::before and other z-indexed elements */
        }
        
        .chapter-tab {
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
            border: 2px solid transparent;
        }
        
        .chapter-tab:hover, .chapter-tab.active {
            background: white;
            color: var(--main-color);
            border-color: white;
        }
        
        .mascot {
            display: inline-block;
            font-size: 60px;
            margin: 20px;
            animation: bounce 2s infinite;
            position: relative; /* Ensure mascot is also on a higher z-index if needed, or adjust based on title/subtitle */
            z-index: 1; 
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            display: none; /* Hidden by default */
        }
        
        .section.active {
            display: block; /* Shown when active */
        }
        
        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--main-color), var(--sub1-color), var(--sub2-color));
        }
        
        .section-title {
            color: var(--main-color);
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .card {
            background: var(--back-color);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateX(5px);
        }
        
        .problem-card {
            border-left: 5px solid var(--accent-color);
        }
        
        .solution-card {
            border-left: 5px solid var(--sub1-color);
        }
        
        .benefit-card {
            border-left: 5px solid var(--sub2-color);
        }
        
        .tool-card {
            border-left: 5px solid var(--main-color);
        }
        
        .flow-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .flow-step {
            background: linear-gradient(135deg, var(--main-color), var(--sub1-color));
            color: white;
            padding: 20px;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: bold;
            position: relative;
            animation: pulse 3s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(66, 133, 244, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(66, 133, 244, 0); }
            100% { box-shadow: 0 0 0 0 rgba(66, 133, 244, 0); }
        }
        
        .flow-arrow {
            font-size: 30px;
            color: var(--sub2-color);
            animation: slide 2s infinite;
        }
        
        @keyframes slide {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .before, .after {
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }
        
        .before {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border: 2px solid var(--accent-color);
        }
        
        .after {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            border: 2px solid var(--sub1-color);
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tool-item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-top: 4px solid var(--main-color);
            transition: transform 0.3s ease;
        }
        
        .tool-item:hover {
            transform: translateY(-5px);
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-card {
            background: linear-gradient(135deg, var(--main-color), var(--sub1-color));
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .quiz-section {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border: 3px solid var(--sub2-color);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }
        
        .quiz-question {
            font-size: 18px;
            font-weight: bold;
            color: var(--main-color);
            margin-bottom: 15px;
        }
        
        .quiz-options {
            display: grid;
            gap: 10px;
        }
        
        .quiz-option {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            border-color: var(--main-color);
            transform: scale(1.02);
        }
        
        .quiz-option.correct {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            border-color: var(--sub1-color);
        }
        
        .quiz-option.incorrect {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border-color: var(--accent-color);
        }
        
        .memory-aid {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #9c27b0;
        }
        
        .memory-aid-title {
            font-weight: bold;
            color: #7b1fa2;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .checklist {
            background: var(--back-color);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .checklist-item:last-child {
            border-bottom: none;
        }
        
        .checkbox {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: var(--sub1-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
        }
        
        .case-study {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--main-color);
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--main-color), var(--sub1-color));
            width: 0%;
            transition: width 2s ease;
        }
        
        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tip-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid var(--sub2-color);
        }
        
        .emoji {
            font-size: 24px;
            margin: 0 5px;
        }
        
        .footer {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--main-color), var(--sub1-color));
            color: white;
            border-radius: 20px;
            margin-top: 40px;
        }
        
        @media (max-width: 768px) {
            .flow-container {
                flex-direction: column;
            }
            
            .comparison-grid, .tools-grid, .metrics-grid, .tips-grid { /* Added .tips-grid */
                grid-template-columns: 1fr;
            }
            
            .flow-step {
                width: 100px;
                height: 100px;
            }
            
            .chapter-nav {
                gap: 5px;
            }
            
            .chapter-tab {
                font-size: 10px;
                padding: 6px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ヘッダー -->
        <div class="header">
            <div class="mascot">🚀</div>
            <h1 class="main-title">完全版：いちばんやさしいCI/CD入門</h1>
            <p class="subtitle">〜新入社員から始める現代的ソフトウェア開発〜</p>
            
            <!-- 章選択ナビゲーション -->
            <div class="chapter-nav">
                <div class="chapter-tab active" data-chapter="basics">基本概念</div>
                <div class="chapter-tab" data-chapter="ci">CI入門</div>
                <div class="chapter-tab" data-chapter="cd">CD入門</div>
                <div class="chapter-tab" data-chapter="start">導入方法</div>
                <div class="chapter-tab" data-chapter="problems">問題解決</div>
                <div class="chapter-tab" data-chapter="tools">ツール選び</div>
                <div class="chapter-tab" data-chapter="cases">事例研究</div>
                <div class="chapter-tab" data-chapter="advanced">発展的内容</div>
                <div class="chapter-tab" data-chapter="tips">実践Tips</div>
            </div>
        </div>

        <!-- 第1章：基本概念 -->
        <div id="basics" class="section active">
            <h2 class="section-title">
                <span class="icon" style="background: var(--main-color);">🏠</span>
                第1章：CI/CDって何？なぜ必要なの？
            </h2>
            
            <div class="card memory-aid">
                <div class="memory-aid-title">
                    <span class="emoji">💡</span>
                    身近な例で理解
                </div>
                <p>毎朝の出勤準備と同じ！「起床→身支度→朝食→出発→到着」の流れを自動化したのがCI/CD</p>
            </div>
            
            <div class="comparison-grid">
                <div class="before">
                    <h3 style="color: var(--accent-color); margin-bottom: 15px;">
                        <span class="emoji">😵</span> 従来の開発「あるある」問題
                    </h3>
                    <ul style="text-align: left; list-style: none; padding-left: 0;">
                        <li>😰 「私の環境では動くのに」</li>
                        <li>🐛 統合地獄（結合テストでバグ大量発覚）</li>
                        <li>😱 金曜日の夜のデプロイ恐怖症</li>
                        <li>🤷 「誰がデプロイするの？」問題</li>
                        <li>⏰ テストは後でやろう症候群</li>
                    </ul>
                </div>
                <div class="after">
                    <h3 style="color: var(--sub1-color); margin-bottom: 15px;">
                        <span class="emoji">😊</span> CI/CDで解決！
                    </h3>
                    <ul style="text-align: left; list-style: none; padding-left: 0;">
                        <li>✅ 環境統一で一貫性確保</li>
                        <li>✅ 継続的統合で問題早期発見</li>
                        <li>✅ 自動化で安心デプロイ</li>
                        <li>✅ 誰でもデプロイ可能</li>
                        <li>✅ 自動テストで品質担保</li>
                    </ul>
                </div>
            </div>
            
            <div class="flow-container">
                <div class="flow-step" style="background: linear-gradient(135deg, #FF6B6B, #FF8E53);">
                    <span class="emoji">📝</span>
                    <div style="font-size: 12px;">コード<br>作成</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step" style="background: linear-gradient(135deg, #4ECDC4, #44A08D);">
                    <span class="emoji">🔄</span>
                    <div style="font-size: 12px;">自動<br>統合</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step" style="background: linear-gradient(135deg, #45B7D1, #96CEB4);">
                    <span class="emoji">🧪</span>
                    <div style="font-size: 12px;">自動<br>テスト</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step" style="background: linear-gradient(135deg, #96CEB4, #FFECD2);">
                    <span class="emoji">🚀</span>
                    <div style="font-size: 12px;">自動<br>デプロイ</div>
                </div>
            </div>
        </div>

        <!-- 第2章：CI入門 -->
        <div id="ci" class="section">
            <h2 class="section-title">
                <span class="icon" style="background: var(--sub1-color);">🔄</span>
                第2章：CI（継続的インテグレーション）から始めよう
            </h2>
            
            <div class="card problem-card">
                <h3 style="color: var(--accent-color);">統合地獄を経験したことありますか？</h3>
                <p>各開発者が3週間個別開発 → 統合日に大混乱！「なぜこんなに問題が...」</p>
            </div>
            
            <div class="flow-container">
                <div class="flow-step">
                    <span class="emoji">💻</span>
                    <div style="font-size: 11px;">コード<br>変更</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <span class="emoji">📦</span>
                    <div style="font-size: 11px;">自動<br>ビルド</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <span class="emoji">🧪</span>
                    <div style="font-size: 11px;">自動<br>テスト</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <span class="emoji">📢</span>
                    <div style="font-size: 11px;">結果<br>通知</div>
                </div>
            </div>
            
            <div class="code-block">
# GitHub Actions の簡単な例
name: CI Pipeline
on:
  push:
    branches: [ main ]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Run tests
      run: npm test
            </div>
            
            <div class="memory-aid">
                <div class="memory-aid-title">
                    <span class="emoji">📚</span>
                    テストピラミッド
                </div>
                <p><strong>ユニットテスト(80%)</strong> → <strong>統合テスト(15%)</strong> → <strong>E2Eテスト(5%)</strong><br>
                高速・大量・安価 → 中速・中量・中価 → 低速・少量・高価</p>
            </div>
        </div>

        <!-- 第3章：CD入門 -->
        <div id="cd" class="section">
            <h2 class="section-title">
                <span class="icon" style="background: var(--sub2-color);">🚀</span>
                第3章：CD（継続的デリバリー）で楽になろう
            </h2>
            
            <div class="card problem-card">
                <h3 style="color: var(--accent-color);">手動デプロイの恐怖体験</h3>
                <p>午後6時デプロイ開始 → 午後10時やっと完了。4時間のハラハラドキドキ...</p>
            </div>
            
            <div class="comparison-grid">
                <div class="before">
                    <h3 style="color: var(--accent-color);">手動デプロイ</h3>
                    <ul style="text-align: left; list-style: none; padding-left: 0;">
                        <li>⏰ 2-8時間の作業</li>
                        <li>😰 人的ミスのリスク</li>
                        <li>📋 複雑な手順書</li>
                        <li>👨 属人化（特定の人だけ）</li>
                        <li>🔄 ロールバック困難</li>
                    </ul>
                </div>
                <div class="after">
                    <h3 style="color: var(--sub1-color);">自動デプロイ</h3>
                    <ul style="text-align: left; list-style: none; padding-left: 0;">
                        <li>⚡ 5-15分で完了</li>
                        <li>✅ 一貫性のある処理</li>
                        <li>🤖 自動化されたプロセス</li>
                        <li>👥 誰でも実行可能</li>
                        <li>🔙 ワンクリックロールバック</li>
                    </ul>
                </div>
            </div>
            
            <div class="tools-grid">
                <div class="tool-item">
                    <h4 style="color: var(--main-color);">カナリアリリース</h4>
                    <p>新バージョンを10%のユーザーで先行テスト → 問題なければ全体展開</p>
                </div>
                <div class="tool-item">
                    <h4 style="color: var(--main-color);">ブルー・グリーンデプロイ</h4>
                    <p>2つの環境を用意 → 新バージョンを片方で準備 → 瞬時に切り替え</p>
                </div>
            </div>
            
            <div class="memory-aid">
                <div class="memory-aid-title">
                    <span class="emoji">⚠️</span>
                    金曜日の夜のデプロイが危険な理由
                </div>
                <p>問題発生時のリソース不足：<strong>週末 + 人員不足 + 関係部署連絡困難 = 対応困難</strong></p>
            </div>
        </div>

        <!-- 第4章：導入方法 -->
        <div id="start" class="section">
            <h2 class="section-title">
                <span class="icon" style="background: var(--main-color);">🎯</span>
                第4章：実際に始めてみよう！導入の第一歩
            </h2>
            
            <div class="memory-aid">
                <div class="memory-aid-title">
                    <span class="emoji">🐣</span>
                    小さく始めることの重要性
                </div>
                <p><strong>個人プロジェクト(1-2週)</strong> → <strong>チーム小プロジェクト(2-4週)</strong> → <strong>一部機能(1-2ヶ月)</strong> → <strong>本格導入(2-3ヶ月)</strong></p>
            </div>
            
            <div class="checklist">
                <h3 style="color: var(--main-color); margin-bottom: 15px;">段階的導入プロセス</h3>
                <div class="checklist-item">
                    <div class="checkbox">1</div>
                    <span><strong>現状分析</strong> - 時間・工数・失敗率を数値化</span>
                </div>
                <div class="checklist-item">
                    <div class="checkbox">2</div>
                    <span><strong>チーム説得</strong> - ROI計算でビジネス価値を示す</span>
                </div>
                <div class="checklist-item">
                    <div class="checkbox">3</div>
                    <span><strong>プロジェクト選び</strong> - 低リスク・高効果を狙う</span>
                </div>
                <div class="checklist-item">
                    <div class="checkbox">4</div>
                    <span><strong>パイプライン構築</strong> - 基本から徐々に高度化</span>
                </div>
            </div>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <div>時間削減効果</div>
                    <div class="metric-value">30時間/月</div>
                    <div>→ 年間360時間節約</div>
                </div>
                <div class="metric-card">
                    <div>品質向上効果</div>
                    <div class="metric-value">75%</div>
                    <div>バグ発生率削減</div>
                </div>
                <div class="metric-card">
                    <div>デプロイ高速化</div>
                    <div class="metric-value">96%</div>
                    <div>時間短縮を実現</div>
                </div>
            </div>
        </div>

        <!-- 第5章：問題解決 -->
        <div id="problems" class="section">
            <h2 class="section-title">
                <span class="icon" style="background: var(--accent-color);">🔧</span>
                第5章：よくある問題と解決方法
            </h2>
            
            <div class="tools-grid">
                <div class="card problem-card"> <!-- Changed from tool-item to card for consistency -->
                    <h4 style="color: var(--accent-color);">問題1: テストが遅すぎる</h4>
                    <p><strong>原因:</strong> 順次実行、重複テスト、外部依存<br>
                    <strong>解決:</strong> 並列実行、テストピラミッド最適化、モック活用</p>
                </div>
                <div class="card problem-card"> <!-- Changed from tool-item to card for consistency -->
                    <h4 style="color: var(--accent-color);">問題2: ビルドが失敗し続ける</h4>
                    <p><strong>原因:</strong> 環境差異、フレーキーテスト、責任不明<br>
                    <strong>解決:</strong> 環境統一、テスト安定化、自動通知</p>
                </div>
                <div class="card problem-card"> <!-- Changed from tool-item to card for consistency -->
                    <h4 style="color: var(--accent-color);">問題3: チームが協力してくれない</h4>
                    <p><strong>原因:</strong> 変化への抵抗、学習コスト、失敗への恐れ<br>
                    <strong>解決:</strong> 小さな成功体験、個別対応、インセンティブ設計</p>
                </div>
                <div class="card problem-card"> <!-- Changed from tool-item to card for consistency -->
                    <h4 style="color: var(--accent-color);">問題4: 上司の理解が得られない</h4>
                    <p><strong>原因:</strong> ビジネス価値不明、短期的視点、投資効果不明<br>
                    <strong>解決:</strong> ビジネス言語で説明、ROI明確化、段階的成果報告</p>
                </div>
            </div>
            
            <div class="memory-aid">
                <div class="memory-aid-title">
                    <span class="emoji">💡</span>
                    失敗から学ぶ教訓
                </div>
                <p><strong>完璧主義の罠</strong> → 小さく始める<br>
                <strong>技術偏重</strong> → 組織フィット重視<br>
                <strong>コミュニケーション不足</strong> → 全体合意形成</p>
            </div>
        </div>

        <!-- 第6章：ツール選び -->
        <div id="tools" class="section">
            <h2 class="section-title">
                <span class="icon" style="background: var(--sub1-color);">🛠️</span>
                第6章：ツール選びで迷わないために
            </h2>
            
            <div class="tools-grid">
                <div class="tool-item">
                    <h4 style="color: var(--main-color);">GitHub Actions</h4>
                    <p><strong>適用:</strong> GitHub利用、小中規模チーム<br>
                    <strong>特徴:</strong> 月2000分無料、豊富なMarketplace</p>
                </div>
                <div class="tool-item">
                    <h4 style="color: var(--main-color);">GitLab CI/CD</h4>
                    <p><strong>適用:</strong> 統合DevOps、セキュリティ重視<br>
                    <strong>特徴:</strong> 月400分無料、セルフホスト可能</p>
                </div>
                <div class="tool-item">
                    <h4 style="color: var(--main-color);">Jenkins</h4>
                    <p><strong>適用:</strong> 高度カスタマイズ、オンプレミス<br>
                    <strong>特徴:</strong> 完全無料、1500+プラグイン</p>
                </div>
                <div class="tool-item">
                    <h4 style="color: var(--main-color);">Azure DevOps</h4>
                    <p><strong>適用:</strong> Microsoft環境、エンタープライズ<br>
                    <strong>特徴:</strong> 統合プロジェクト管理、企業サポート</p>
                </div>
            </div>
            
            <div class="checklist">
                <h3 style="color: var(--main-color); margin-bottom: 15px;">ツール選択の判断基準</h3>
                <div class="checklist-item">
                    <div class="checkbox">✓</div>
                    <span><strong>技術環境との親和性</strong> - 既存ツールとの連携</span>
                </div>
                <div class="checklist-item">
                    <div class="checkbox">✓</div>
                    <span><strong>チームのスキルレベル</strong> - 学習コストの考慮</span>
                </div>
                <div class="checklist-item">
                    <div class="checkbox">✓</div>
                    <span><strong>予算とコスト</strong> - 無料枠と将来の拡張性</span>
                </div>
                <div class="checklist-item">
                    <div class="checkbox">✓</div>
                    <span><strong>サポート体制</strong> - コミュニティと企業サポート</span>
                </div>
            </div>
        </div>

        <!-- 第7章：事例研究 -->
        <div id="cases" class="section">
            <h2 class="section-title">
                <span class="icon" style="background: var(--sub2-color);">📊</span>
                第7章：実際の導入ケーススタディ
            </h2>
            
            <div class="tools-grid"> <!-- Re-using .tools-grid for layout, can be renamed if needed -->
                <div class="case-study">
                    <h4 style="color: var(--main-color);">スタートアップ事例</h4>
                    <p><strong>企業:</strong> フードテック（25名、エンジニア8名）<br>
                    <strong>成果:</strong> デプロイ頻度8倍、バグ75%削減<br>
                    <strong>期間:</strong> 4ヶ月段階導入</p>
                </div>
                <div class="case-study">
                    <h4 style="color: var(--main-color);">中小企業事例</h4>
                    <p><strong>企業:</strong> 製造業IT（120名、エンジニア30名）<br>
                    <strong>成果:</strong> リリース頻度月2回、週末作業ゼロ<br>
                    <strong>期間:</strong> 18ヶ月段階導入</p>
                </div>
                <div class="case-study">
                    <h4 style="color: var(--main-color);">大企業事例</h4>
                    <p><strong>企業:</strong> 大手金融（5000名、IT500名）<br>
                    <strong>成果:</strong> 停止時間95%削減、イノベーション4倍<br>
                    <strong>期間:</strong> 24ヶ月全社展開</p>
                </div>
            </div>
            
            <div class="memory-aid">
                <div class="memory-aid-title">
                    <span class="emoji">🏆</span>
                    成功企業の共通点
                </div>
                <p><strong>1. 学習する組織</strong> - 失敗を学習機会として捉える<br>
                <strong>2. 小さく始める</strong> - 段階的なアプローチ<br>
                <strong>3. チーム全体のコミット</strong> - 組織全体でのサポート<br>
                <strong>4. 継続的改善</strong> - 常により良い方法を模索</p>
            </div>
        </div>

        <!-- 第8章：発展的内容 -->
        <div id="advanced" class="section">
            <h2 class="section-title">
                <span class="icon" style="background: var(--main-color);">🔒</span>
                第8章：一歩先へ - DevSecOps・モニタリング
            </h2>
            
            <div class="tools-grid"> <!-- Re-using .tools-grid for layout -->
                <div class="card solution-card">
                    <h4 style="color: var(--sub1-color);">DevSecOps（セキュリティ統合）</h4>
                    <p><strong>レベル1:</strong> 基本チェック（依存関係、シークレット検出）<br>
                    <strong>レベル2:</strong> SAST/DAST（静的・動的解析）<br>
                    <strong>レベル3:</strong> 監視・自動応答</p>
                </div>
                <div class="card solution-card">
                    <h4 style="color: var(--sub1-color);">DORAメトリクス</h4>
                    <p><strong>デプロイ頻度:</strong> Elite（日複数回）<br>
                    <strong>リードタイム:</strong> Elite（1時間未満）<br>
                    <strong>復旧時間:</strong> Elite（1時間未満）<br>
                    <strong>変更失敗率:</strong> Elite（15%以下）</p>
                </div>
                <div class="card solution-card">
                    <h4 style="color: var(--sub1-color);">組織文化変革</h4>
                    <p><strong>CALMS:</strong> Culture, Automation, Lean, Measurement, Sharing<br>
                    <strong>心理的安全性:</strong> 失敗を恐れない環境<br>
                    <strong>継続的学習:</strong> ポストモーテム文化</p>
                </div>
                <div class="card solution-card">
                    <h4 style="color: var(--sub1-color);">次世代技術</h4>
                    <p><strong>GitOps:</strong> Gitを真実の情報源とする運用<br>
                    <strong>Infrastructure as Code:</strong> インフラのコード化<br>
                    <strong>オブザーバビリティ:</strong> 分散システムの可視化</p>
                </div>
            </div>
        </div>

        <!-- 第9章：実践Tips -->
        <div id="tips" class="section">
            <h2 class="section-title">
                <span class="icon" style="background: var(--sub2-color);">💡</span>
                第9章：明日から使える実践的Tips
            </h2>
            
            <div class="tips-grid">
                <div class="tip-card">
                    <h4 style="color: var(--sub2-color);">🗣️ チームミーティング話題</h4>
                    <ul style="font-size: 14px; list-style: none; padding-left: 0;">
                        <li>朝会でCI/CDステータス共有</li>
                        <li>振り返りでKeep/Problem/Try</li>
                        <li>データに基づく議論</li>
                    </ul>
                </div>
                <div class="tip-card">
                    <h4 style="color: var(--sub2-color);">⚡ すぐできる改善</h4>
                    <ul style="font-size: 14px; list-style: none; padding-left: 0;">
                        <li>★ ビルド時間可視化</li>
                        <li>★★ テストカバレッジ表示</li>
                        <li>★★★ Blue-Greenデプロイ</li>
                    </ul>
                </div>
                <div class="tip-card">
                    <h4 style="color: var(--sub2-color);">🎤 勉強会発表ネタ</h4>
                    <ul style="font-size: 14px; list-style: none; padding-left: 0;">
                        <li>初級：「CI/CDを始めてみた話」</li>
                        <li>中級：「パフォーマンス改善」</li>
                        <li>上級：「GitOps実践」</li>
                    </ul>
                </div>
                <div class="tip-card">
                    <h4 style="color: var(--sub2-color);">💼 転職アピール</h4>
                    <ul style="font-size: 14px; list-style: none; padding-left: 0;">
                        <li>定量的成果をアピール</li>
                        <li>STAR法で経験語る</li>
                        <li>ポートフォリオ整備</li>
                    </ul>
                </div>
            </div>
            
            <div class="code-block">
# 明日から始められるCI/CD例
name: Simple CI/CD
on: [push]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - run: npm install
    - run: npm test
    - run: npm run build
            </div>
            
            <div class="memory-aid">
                <div class="memory-aid-title">
                    <span class="emoji">🎯</span>
                    キャリアアップのポイント
                </div>
                <p><strong>CI/CDスキル</strong> = 年収20-30%アップ<br>
                <strong>実践経験</strong> + <strong>成果の数値化</strong> + <strong>コミュニティ活動</strong> = 市場価値向上</p>
            </div>
        </div>

        <!-- クイズセクション -->
        <div class="quiz-section">
            <h2 style="color: var(--main-color); margin-bottom: 20px;">
                <span class="emoji">🧠</span> 総合理解度チェック！
            </h2>
            <div class="quiz-question">
                Q: DORA メトリクスの4つの指標で「Elite」レベルに該当しないものは？
            </div>
            <div class="quiz-options">
                <div class="quiz-option" onclick="showAnswer(this, false)">
                    A. デプロイ頻度：日に複数回
                </div>
                <div class="quiz-option" onclick="showAnswer(this, false)">
                    B. リードタイム：1時間未満
                </div>
                <div class="quiz-option" onclick="showAnswer(this, true)">
                    C. 変更失敗率：30%以下
                </div>
                <div class="quiz-option" onclick="showAnswer(this, false)">
                    D. 復旧時間：1時間未満
                </div>
            </div>
            <div id="quiz-result" style="margin-top: 15px; font-weight: bold;"></div>
        </div>

        <!-- フッター -->
        <div class="footer">
            <div class="mascot">🌟</div>
            <h2>CI/CD完全マスター おめでとうございます！</h2>
            <p>基本概念から実践的なTipsまで、包括的にCI/CDを学習できました</p>
            <p>次は実際のプロジェクトで実践してみましょう</p>
            <div style="margin-top: 20px;">
                <span class="emoji">🚀</span>
                <span class="emoji">💻</span>
                <span class="emoji">⚡</span>
                <span class="emoji">🏆</span>
                <span class="emoji">🎉</span>
            </div>
            
            <div class="progress-bar">
                <div class="progress" id="overall-progress"></div>
            </div>
            <p style="margin-top: 10px;">学習進捗: 100% 完了</p>
        </div>
    </div>

    <script>
        let currentChapter = 'basics';
        
        // Function to show the selected chapter and hide others
        function showChapter(chapterId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Deactivate all tabs
            document.querySelectorAll('.chapter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Activate the target section
            const targetSection = document.getElementById(chapterId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Activate the corresponding tab
            const targetTab = document.querySelector(`.chapter-tab[data-chapter="${chapterId}"]`); // Made selector more specific
            if (targetTab) {
                targetTab.classList.add('active');
            }
            
            currentChapter = chapterId;
            
            // Update progress bar
            updateProgress(chapterId);
        }
        
        // Function to update the progress bar
        function updateProgress(chapterId) {
            const chapters = ['basics', 'ci', 'cd', 'start', 'problems', 'tools', 'cases', 'advanced', 'tips'];
            const currentIndex = chapters.indexOf(chapterId);
            const progressPercentage = ((currentIndex + 1) / chapters.length) * 100;
            
            const progressBarElement = document.getElementById('overall-progress');
            if (progressBarElement) {
                progressBarElement.style.width = progressPercentage + '%';
            }
        }
        
        // Function to handle quiz answer selection
        function showAnswer(selectedOptionElement, isCorrect) {
            const allOptionElements = document.querySelectorAll('.quiz-option');
            const resultDisplayElement = document.getElementById('quiz-result');
            
            allOptionElements.forEach(option => {
                option.style.pointerEvents = 'none'; // Disable further clicks on options
                if (option === selectedOptionElement) {
                    if (isCorrect) {
                        option.classList.add('correct');
                        resultDisplayElement.textContent = '🎉 正解！Eliteレベルの変更失敗率は15%以下です！';
                        resultDisplayElement.style.color = 'var(--sub1-color)';
                    } else {
                        option.classList.add('incorrect');
                        resultDisplayElement.textContent = '❌ 残念！Eliteレベルの変更失敗率は15%以下です。30%以下はHighレベルです。';
                        resultDisplayElement.style.color = 'var(--accent-color)';
                    }
                } else {
                    option.style.opacity = '0.5'; // Dim other options
                }
            });
        }
        
        // Initialization when the window loads
        window.addEventListener('load', function() {
            // Set initial progress
            updateProgress('basics'); 
            
            // Add click event listeners to chapter tabs
            document.querySelectorAll('.chapter-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const chapterId = this.getAttribute('data-chapter');
                    showChapter(chapterId);
                });
            });
            
            // Intersection Observer for scroll animations (fade-in effect)
            const observerOptions = {
                threshold: 0.1, // Trigger when 10% of the element is visible
                rootMargin: '0px 0px -50px 0px' // Adjust viewport for triggering
            };
            
            const fadeInObserver = new IntersectionObserver(function(entries, observer) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                        observer.unobserve(entry.target); // Optional: stop observing after animation
                    }
                });
            }, observerOptions);
            
            // Apply observer to relevant elements
            document.querySelectorAll('.card, .tool-item, .case-study, .tip-card').forEach(item => { // Added .tip-card
                item.style.opacity = '0'; // Initial state for animation
                item.style.transform = 'translateY(20px)'; // Initial state for animation
                item.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                fadeInObserver.observe(item);
            });
        });
    </script>
</body>
</html>
